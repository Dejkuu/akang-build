"use strict";(self["webpackChunkakang"]=self["webpackChunkakang"]||[]).push([[97],{348:function(e,s,t){t.d(s,{Z:function(){return f}});var o=t(6252);const i=e=>((0,o.dD)("data-v-19900eb5"),e=e(),(0,o.Cn)(),e),n={id:"navigation"},r=i((()=>(0,o._)("hr",null,null,-1))),a=i((()=>(0,o._)("hr",null,null,-1))),l=i((()=>(0,o._)("hr",null,null,-1))),d=i((()=>(0,o._)("hr",null,null,-1)));function c(e,s,t,i,c,u){const p=(0,o.up)("svg-icon"),h=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",n,[(0,o.Wm)(h,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"mdi",path:i.iconsStore.mdiHomeOutline},null,8,["path"])])),_:1}),r,(0,o.Wm)(h,{to:"/dashboard"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"mdi",path:i.iconsStore.mdiViewDashboardOutline},null,8,["path"])])),_:1}),a,(0,o.Wm)(h,{to:"/dashboard/uzytkownicy"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"mdi",path:i.iconsStore.mdiAccountMultipleOutline},null,8,["path"])])),_:1}),l,(0,o.Wm)(h,{to:"/dashboard/linki"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"mdi",path:i.iconsStore.mdiLinkVariant},null,8,["path"])])),_:1}),d,(0,o.Wm)(h,{to:"/dashboard/zadania"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"mdi",path:i.iconsStore.mdiCalendarMonthOutline},null,8,["path"])])),_:1})])}var u=t(2273),p=t(4409),h={name:"MainNavigation",components:{svgIcon:u.Z},setup(){const e=(0,p.Q)();return{iconsStore:e}}},m=t(3744);const w=(0,m.Z)(h,[["render",c],["__scopeId","data-v-19900eb5"]]);var f=w},2523:function(e,s,t){t.r(s),t.d(s,{default:function(){return le}});t(3948);var o=t(6252),i=t(3577),n=t(9963),r=t(6859);const a=e=>((0,o.dD)("data-v-2933c316"),e=e(),(0,o.Cn)(),e),l=a((()=>(0,o._)("div",{id:"backgroundTriangle"},null,-1))),d={id:"headerLeft"},c={id:"mainProfileSection"},u={id:"profileSection"},p={id:"profileSectionContent"},h=a((()=>(0,o._)("h1",{class:"titles"},"Profil",-1))),m={id:"profileSectionOverview"},w={id:"profileSectionOverviewDetails"},f=a((()=>(0,o._)("img",{class:"staticImg",src:r,alt:"User Avatar"},null,-1))),P={id:"profileSectionDetails"},_={id:"profileUserAvatarContainer"},v=a((()=>(0,o._)("img",{class:"staticImg",src:r,alt:"User Avatar"},null,-1))),I={key:0,id:"profileUserAvatarOverlay",class:"pointer",title:"Zmień zdjęcie"},g={id:"profileUserButtons"},S={title:"Zresetuj zdjęcie",class:"pointer"},y={title:"Zmień zdjęcie",class:"pointer"},C={id:"profileUserPassword"},k={id:"profileUserPasswordHeader"},U=a((()=>(0,o._)("h1",{id:"profileUserPasswordTitle"},"Zmień hasło",-1))),b=["disabled"],W={class:"formInput formItem"},z={for:"oldPassInput"},D={class:"formError"},E=["type"],Z={class:"helpBox",title:"Wpisz stare hasło"},M={class:"formInput formItem"},T={for:"newPassInput"},B={class:"formError"},V=["type"],O={class:"helpBox",title:"Wpisz nowe hasło"},j={id:"profileUserRoles"},H=a((()=>(0,o._)("h1",{id:"profileUserRolesTitle"},"Twoje rangi",-1))),N={id:"profileUserRolesContainer"},A={id:"preferencesSection"},x={id:"preferencesSectionContent"},q=a((()=>(0,o._)("h1",{class:"titles"},"Preferencje",-1))),L={id:"preferencesSectionList"},R={class:"preferenceElementTitle"},Y=["onClick"];function K(e,s,t,r,a,K){const Q=(0,o.up)("HeaderLogo"),J=(0,o.up)("Notification"),F=(0,o.up)("Navigation"),G=(0,o.up)("UserCard"),X=(0,o.up)("svg-icon");return(0,o.wg)(),(0,o.iD)("body",null,[l,(0,o.Wm)(Q),(0,o.Wm)(J),(0,o._)("header",d,[(0,o.Wm)(F),(0,o.Wm)(G)]),(0,o._)("main",c,[(0,o._)("section",u,[(0,o._)("div",p,[h,(0,o._)("div",m,[(0,o._)("div",w,[(0,o._)("div",null,[f,(0,o._)("h1",null,(0,i.zw)(r.accountStore.userNickname),1)]),(0,o._)("span",null,(0,i.zw)("Konto stworzone: ".concat(r.accountStore.userCreatedAt)),1)])]),(0,o._)("div",P,[(0,o._)("div",_,[(0,o._)("div",{id:"profileUserAvatar",onMouseenter:s[0]||(s[0]=function(){return K.profileUserImgShow&&K.profileUserImgShow(...arguments)}),onMouseleave:s[1]||(s[1]=function(){return K.profileUserImgHide&&K.profileUserImgHide(...arguments)})},[v,a.isEditButtonDisplay?((0,o.wg)(),(0,o.iD)("div",I,[(0,o.Wm)(X,{id:"profileUserEditIcon",type:"mdi",path:r.iconsStore.mdiPencilOutline},null,8,["path"])])):(0,o.kq)("",!0)],32),(0,o._)("div",g,[(0,o._)("div",S,[(0,o.Wm)(X,{id:"profileUserEditIcon",type:"mdi",path:r.iconsStore.mdiImageRefreshOutline},null,8,["path"]),(0,o.Uk)(" Zresetuj zdjęcie ")]),(0,o._)("div",y,[(0,o.Wm)(X,{id:"profileUserEditIcon",type:"mdi",path:r.iconsStore.mdiImagePlusOutline},null,8,["path"]),(0,o.Uk)(" Zmień zdjęcie ")])])]),(0,o._)("div",C,[(0,o._)("div",k,[U,(0,o._)("button",{onClick:s[2]||(s[2]=e=>K.changePassword()),id:"profileUserPasswordButton",disabled:a.isButtonDisabled}," Zmień ",8,b)]),(0,o._)("div",W,[(0,o._)("label",z,[(0,o.Uk)(" Stare hasło "),(0,o._)("span",D,(0,i.zw)(a.errors.oldPassError),1)]),(0,o._)("div",{class:(0,i.C_)([a.oldPassClass,"border"])},[(0,o.wy)((0,o._)("input",{name:"oldPassInput",type:a.oldPasswordType,"onUpdate:modelValue":s[3]||(s[3]=e=>a.oldPassInput=e),maxlength:"20"},null,8,E),[[n.YZ,a.oldPassInput]]),(0,o._)("div",Z,[(0,o.Wm)(X,{onMouseenter:s[4]||(s[4]=e=>a.oldPasswordType="text"),onMouseleave:s[5]||(s[5]=e=>a.oldPasswordType="password"),type:"mdi",class:(0,i.C_)(a.oldPassClass),path:a.oldPassIcon},null,8,["class","path"])])],2)]),(0,o._)("div",M,[(0,o._)("label",T,[(0,o.Uk)(" Nowe hasło "),(0,o._)("span",B,(0,i.zw)(a.errors.newPassError),1)]),(0,o._)("div",{class:(0,i.C_)([a.newPassClass,"border"])},[(0,o.wy)((0,o._)("input",{name:"newPassInput",type:a.newPasswordType,"onUpdate:modelValue":s[6]||(s[6]=e=>a.newPassInput=e),maxlength:"20"},null,8,V),[[n.YZ,a.newPassInput]]),(0,o._)("div",O,[(0,o.Wm)(X,{onMouseenter:s[7]||(s[7]=e=>a.newPasswordType="text"),onMouseleave:s[8]||(s[8]=e=>a.newPasswordType="password"),type:"mdi",class:(0,i.C_)(a.newPassClass),path:a.newPassIcon},null,8,["class","path"])])],2)])]),(0,o._)("div",j,[H,(0,o._)("div",N,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.accountStore.userRoles,(e=>((0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["roleBadge",e]),key:e},(0,i.zw)(e),3)))),128))])])])])]),(0,o._)("section",A,[(0,o._)("div",x,[q,(0,o._)("ul",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.preferenceStore.preferences,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"preferenceElement",key:e.name},[(0,o.Wm)(X,{class:"preferenceElementIcon",type:"mdi",path:e.icon},null,8,["path"]),(0,o._)("h1",R,(0,i.zw)(e.label),1),(0,o._)("div",{onClick:s=>r.preferenceStore.setPreference(e.name,void 0,!0),class:"preferenceElementState pointer"},(0,i.zw)(e.state?"Włącz":"Wyłącz"),9,Y)])))),128))])])])])])}t(8674);var Q=t(8332),J=t(2273),F=t(7600),G=t(5229),X=t(845),$=t(9735),ee=t(4409),se=t(3556),te=t(1434),oe=t(3148),ie=t(348),ne={name:"ProfileView",components:{svgIcon:J.Z,HeaderLogo:se.Z,Notification:te.Z,UserCard:oe.Z,Navigation:ie.Z},setup(){const e=(0,X.c)(),s=(0,$.J)(),t=(0,G.x)(),o=(0,ee.Q)();return{accountStore:e,alertsStore:t,iconsStore:o,preferenceStore:s}},data(){return{isButtonDisabled:!0,isEditButtonDisplay:!1,oldPassIcon:this.iconsStore.questionMarkIcon,newPassIcon:this.iconsStore.questionMarkIcon,oldPassInput:"",newPassInput:"",oldPassClass:"",newPassClass:"",oldPasswordType:"password",newPasswordType:"password",errors:{oldPassError:"",newPassError:""}}},methods:{async changePassword(){if(this.oldPassInput.length<3&&this.newPassInput.length<3)return;const e={nick:this.accountStore.userNickname,oldPassword:this.oldPassInput,newPassword:this.newPassInput},s=await Q.Z.changePassword(e);if(this.oldPassInput="",this.newPassInput="",await this.alertsStore.showNotification(s.duration,s.status,s.message),this.preferenceStore.preferences[0].state){const e=new Audio(F);e.volume=.5,e.play()}"success"===s.status&&(this.oldPassIcon=this.iconsStore.questionMarkIcon,this.newPassIcon=this.iconsStore.questionMarkIcon,this.oldPassClass="neutral",this.newPassClass="neutral",this.errors.oldPassError="",this.errors.newPassError="",this.isButtonDisabled=!0)},profileUserImgShow(){},profileUserImgHide(){},formVerification(e){return e.length>=3?{icon:this.iconsStore.successIcon,status:"success",error:""}:e.length>0&&e.length<3?{icon:this.iconsStore.alertCircleIcon,status:"alert",error:"Minimum 3 znaki!"}:{icon:this.iconsStore.alertCircleIcon,status:"alert",error:"Puste pole!"}},buttonVerification(){this.oldPassInput.length<3||this.newPassInput.length<3?this.isButtonDisabled=!0:this.isButtonDisabled=!1}},watch:{oldPassInput(){this.buttonVerification();const e=this.formVerification(this.oldPassInput);this.oldPassIcon=e.icon,this.oldPassClass=e.status,this.errors.oldPassError=e.error},newPassInput(){this.buttonVerification();const e=this.formVerification(this.newPassInput);this.newPassIcon=e.icon,this.newPassClass=e.status,this.errors.newPassError=e.error}}},re=t(3744);const ae=(0,re.Z)(ne,[["render",K],["__scopeId","data-v-2933c316"]]);var le=ae}}]);
//# sourceMappingURL=Profile.790e1ed0.js.map