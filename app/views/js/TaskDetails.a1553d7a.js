(self["webpackChunkakang"]=self["webpackChunkakang"]||[]).push([[403],{7066:function(t,e,i){"use strict";var s=i(9670);t.exports=function(){var t=s(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},4706:function(t,e,i){var s=i(6916),a=i(2597),n=i(7976),l=i(7066),o=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in o||a(t,"flags")||!n(o,t)?e:s(l,t)}},9714:function(t,e,i){"use strict";var s=i(6530).PROPER,a=i(8052),n=i(9670),l=i(1340),o=i(7293),d=i(4706),u="toString",c=RegExp.prototype,r=c[u],h=o((function(){return"/a/b"!=r.call({source:"a",flags:"b"})})),p=s&&r.name!=u;(h||p)&&a(RegExp.prototype,u,(function(){var t=n(this),e=l(t.source),i=l(d(t));return"/"+e+"/"+i}),{unsafe:!0})},8149:function(t,e,i){"use strict";i.d(e,{Z:function(){return w}});var s=i(6252),a=i(3577),n=i(6859);const l=t=>((0,s.dD)("data-v-2b9d194c"),t=t(),(0,s.Cn)(),t),o=l((()=>(0,s._)("div",{id:"authorImage"},[(0,s._)("img",{class:"staticImg",src:n,alt:"User Avatar"})],-1))),d={id:"authorDetails"},u={id:"authorInfo"},c={id:"authorNickname"},r={id:"authorRole"};function h(t,e,i,n,l,h){return(0,s.wg)(),(0,s.iD)("div",{id:"authorCard",class:(0,a.C_)(i.isFlipped?"left":"right"),title:"Autor"},[o,(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("span",c,(0,a.zw)(l.author.nick),1),(0,s._)("span",r,(0,a.zw)(l.author.role),1)])])],2)}i(8674),i(9714);var p=i(8332),k={name:"AuthorCard",props:{authorID:{type:String},authorObject:{nick:String,role:String},isFlipped:{type:Boolean,default:!1}},data(){return{author:[{nick:"Nieznany",role:"Nieznany"}]}},beforeMount(){void 0==this.authorObject||(this.author=this.authorObject)},async updated(){const t=await p.Z.getUserNV({user:this.authorID});if(null!==t.content)return this.author.nick=t.content.nick,void(this.author.role=t.content.roles[0].toString());this.author.nick="Nieznany",this.author.role="Nieznany"}},m=i(3744);const v=(0,m.Z)(k,[["render",h],["__scopeId","data-v-2b9d194c"]]);var w=v},348:function(t,e,i){"use strict";i.d(e,{Z:function(){return v}});var s=i(6252);const a=t=>((0,s.dD)("data-v-19900eb5"),t=t(),(0,s.Cn)(),t),n={id:"navigation"},l=a((()=>(0,s._)("hr",null,null,-1))),o=a((()=>(0,s._)("hr",null,null,-1))),d=a((()=>(0,s._)("hr",null,null,-1))),u=a((()=>(0,s._)("hr",null,null,-1)));function c(t,e,i,a,c,r){const h=(0,s.up)("svg-icon"),p=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("nav",n,[(0,s.Wm)(p,{to:"/"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{type:"mdi",path:a.iconsStore.mdiHomeOutline},null,8,["path"])])),_:1}),l,(0,s.Wm)(p,{to:"/dashboard"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{type:"mdi",path:a.iconsStore.mdiViewDashboardOutline},null,8,["path"])])),_:1}),o,(0,s.Wm)(p,{to:"/dashboard/uzytkownicy"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{type:"mdi",path:a.iconsStore.mdiAccountMultipleOutline},null,8,["path"])])),_:1}),d,(0,s.Wm)(p,{to:"/dashboard/linki"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{type:"mdi",path:a.iconsStore.mdiLinkVariant},null,8,["path"])])),_:1}),u,(0,s.Wm)(p,{to:"/dashboard/zadania"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{type:"mdi",path:a.iconsStore.mdiCalendarMonthOutline},null,8,["path"])])),_:1})])}var r=i(2273),h=i(4409),p={name:"MainNavigation",components:{svgIcon:r.Z},setup(){const t=(0,h.Q)();return{iconsStore:t}}},k=i(3744);const m=(0,k.Z)(p,[["render",c],["__scopeId","data-v-19900eb5"]]);var v=m},1898:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return pt}});var s=i(6252),a=i(3577),n=i(9963);const l=t=>((0,s.dD)("data-v-6e4bcdef"),t=t(),(0,s.Cn)(),t),o=l((()=>(0,s._)("div",{id:"backgroundTriangle"},null,-1))),d={id:"headerLeft"},u={id:"mainTasksSection"},c={id:"mainTasksContainer"},r=l((()=>(0,s._)("h1",{class:"titles"},"Do zrobienia",-1))),h={id:"tasksSection"},p={id:"tasksHeader"},k=l((()=>(0,s._)("span",null,"Statystyki",-1))),m=l((()=>(0,s._)("span",null,"Dodaj zadanie",-1))),v={id:"tasksList"},w={id:"tasksListScroll"},g=l((()=>(0,s._)("div",{id:"tasksListHeader"},[(0,s._)("span",null,"To Do"),(0,s._)("hr")],-1))),_={key:0,class:"emptyValuesMessage"},y=l((()=>(0,s._)("h1",null,"Brak zadań do wyświetlenia",-1))),C=[y],f=["onClick"],S={class:"taskListElementDetails"},b={class:"taskListElementID"},T={class:"taskListElementTitle"},D={id:"taskDetailsSection"},A={id:"taskDetails"},E={id:"taskDetailsHeader"},I=["placeholder","disabled"],z={id:"taskDetailsButtonsContainer"},W={id:"taskDetailsDesc",class:"formTextArea formItem"},x=l((()=>(0,s._)("label",{for:"descInput"},"Opis",-1))),B={class:"border"},L=["placeholder","disabled"],j={class:"letterCount"},O={id:"taskDetailsFooter"},Z={id:"taskDetailsTags"},H=l((()=>(0,s._)("h1",null,"Tagi:",-1))),N={id:"taskDetailsTagsContainer"},P=l((()=>(0,s._)("div",null,[(0,s._)("p",null,"Ważne")],-1))),M=[P],R=l((()=>(0,s._)("div",null,[(0,s._)("p",null,"Dostępne")],-1))),U=[R],q=l((()=>(0,s._)("div",null,[(0,s._)("p",null,"W trakcie")],-1))),V=[q],F=l((()=>(0,s._)("div",null,[(0,s._)("p",null,"Ukończone")],-1))),$=[F],Q=l((()=>(0,s._)("div",null,[(0,s._)("p",null,"Anulowane")],-1))),J=[Q],K={id:"taskDetailsAuthor"};function Y(t,e,i,l,y,P){const R=(0,s.up)("HeaderLogo"),q=(0,s.up)("Notification"),F=(0,s.up)("Navigation"),Q=(0,s.up)("UserCard"),Y=(0,s.up)("svg-icon"),G=(0,s.up)("router-link"),X=(0,s.up)("AuthorCard");return(0,s.wg)(),(0,s.iD)("body",null,[o,(0,s.Wm)(R),(0,s.Wm)(q),(0,s._)("header",d,[(0,s.Wm)(F),(0,s.Wm)(Q)]),(0,s._)("main",u,[(0,s._)("div",c,[r,(0,s._)("section",h,[(0,s._)("div",p,[(0,s._)("div",{onClick:e[0]||(e[0]=t=>l.generalStore.activeTaskElement="home"),class:"tasksHeaderElement"},[(0,s.Wm)(G,{to:"/dashboard/zadania"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y,{type:"mdi",path:l.iconsStore.mdiHomeOutline},null,8,["path"]),k])),_:1})]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>l.generalStore.activeTaskElement="addTask"),class:"tasksHeaderElement"},[(0,s.Wm)(G,{to:"/dashboard/zadania"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y,{type:"mdi",path:l.iconsStore.mdiPlusCircleOutline},null,8,["path"]),m])),_:1})])]),(0,s._)("div",v,[(0,s._)("ul",w,[g,0===y.tasks.length?((0,s.wg)(),(0,s.iD)("div",_,C)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(y.tasks,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"taskListElement pointer"},[(0,s._)("div",{onClick:e=>P.changeTask(t._id)},["cancelled"===t.status?((0,s.wg)(),(0,s.j4)(Y,{key:0,class:"taskListElementStatus cancelled",type:"mdi",path:l.iconsStore.mdiCloseCircleOutline},null,8,["path"])):"finished"===t.status?((0,s.wg)(),(0,s.j4)(Y,{key:1,class:"taskListElementStatus finished",type:"mdi",path:l.iconsStore.successIcon},null,8,["path"])):"inProgress"===t.status?((0,s.wg)(),(0,s.j4)(Y,{key:2,class:"taskListElementStatus inProgress",type:"mdi",path:l.iconsStore.mdiDotsHorizontalCircleOutline},null,8,["path"])):((0,s.wg)(),(0,s.j4)(Y,{key:3,class:"taskListElementStatus available",type:"mdi",path:l.iconsStore.mdiRecordCircleOutline},null,8,["path"])),(0,s._)("div",S,[(0,s._)("span",b,(0,a.zw)("#".concat(t._id)),1),(0,s._)("h1",T,(0,a.zw)(t.title),1)]),t.important?((0,s.wg)(),(0,s.j4)(Y,{key:4,class:"taskListElementStar",type:"mdi",path:l.iconsStore.mdiStar},null,8,["path"])):(0,s.kq)("",!0)],8,f)])))),128))])]),(0,s._)("section",D,[(0,s._)("div",A,[(0,s._)("div",{id:"taskDetailsEditMessage",style:(0,a.j5)(y.styles.editMsg)}," Tryb edycji włączony ",4),(0,s._)("div",E,["cancelled"===y.newTask.status?((0,s.wg)(),(0,s.j4)(Y,{key:0,class:"taskDetailsHeaderStatusIcon cancelled",type:"mdi",path:l.iconsStore.mdiCloseCircleOutline},null,8,["path"])):"finished"===y.newTask.status?((0,s.wg)(),(0,s.j4)(Y,{key:1,class:"taskDetailsHeaderStatusIcon finished",type:"mdi",path:l.iconsStore.successIcon},null,8,["path"])):"inProgress"===y.newTask.status?((0,s.wg)(),(0,s.j4)(Y,{key:2,class:"taskDetailsHeaderStatusIcon inProgress",type:"mdi",path:l.iconsStore.mdiDotsHorizontalCircleOutline},null,8,["path"])):((0,s.wg)(),(0,s.j4)(Y,{key:3,class:"taskDetailsHeaderStatusIcon available",type:"mdi",path:l.iconsStore.mdiRecordCircleOutline},null,8,["path"])),(0,s._)("div",null,[(0,s.wy)((0,s._)("input",{placeholder:y.task.title,"onUpdate:modelValue":e[2]||(e[2]=t=>y.newTask.titleInput=t),maxlength:"20",disabled:!y.isEditActive},null,8,I),[[n.nr,y.newTask.titleInput]]),(0,s._)("span",{onClick:e[3]||(e[3]=t=>P.copyLink()),id:"taskDetailsID",class:"pointer",title:"Skopiuj link do zadania"},(0,a.zw)("#".concat(y.task._id)),1)]),(0,s._)("div",z,[(0,s._)("div",{style:(0,a.j5)(y.styles.deleteButton),class:"taskDetailsButton Delete pointer"},[(0,s._)("div",{onClick:e[4]||(e[4]=t=>P.buttonClicked("delete")),title:"Usuń"},[(0,s.Wm)(Y,{type:"mdi",path:l.iconsStore.mdiTrashCanOutline},null,8,["path"])]),(0,s._)("div",{onClick:e[5]||(e[5]=t=>P.hideButtons("delete")),title:"Anuluj"},[(0,s.Wm)(Y,{type:"mdi",path:l.iconsStore.mdiClose},null,8,["path"])])],4),(0,s._)("div",{style:(0,a.j5)(y.styles.editButton),class:"taskDetailsButton Edit pointer"},[(0,s._)("div",{onClick:e[6]||(e[6]=t=>P.buttonClicked("edit")),title:"Wprowadź zmiany"},[(0,s.Wm)(Y,{type:"mdi",path:l.iconsStore.mdiPencilOutline},null,8,["path"])]),(0,s._)("div",{onClick:e[7]||(e[7]=t=>P.hideButtons("edit")),title:"Anuluj zmiany"},[(0,s.Wm)(Y,{type:"mdi",path:l.iconsStore.mdiClose},null,8,["path"])])],4)])]),(0,s._)("div",W,[x,(0,s._)("div",B,[(0,s.wy)((0,s._)("textarea",{placeholder:y.task.desc,rows:"5",maxlength:"300","onUpdate:modelValue":e[8]||(e[8]=t=>y.newTask.descInput=t),disabled:!y.isEditActive},null,8,L),[[n.nr,y.newTask.descInput]]),(0,s._)("span",j,(0,a.zw)("".concat(y.lettersCount.descLetters,"/").concat(y.lettersCount.maxDescLetters)),1)])]),(0,s._)("div",O,[(0,s._)("div",Z,[H,(0,s._)("div",N,[(0,s._)("div",{onClick:e[9]||(e[9]=t=>P.toggleImportant()),class:(0,a.C_)(["statusBadge taskStatus important",{disabled:!y.newTask.important,pointer:y.isEditActive,editActived:y.isEditActive}])},M,2),y.isEditActive||"available"===y.newTask.status?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[10]||(e[10]=t=>P.changeStatus("available",y.newTask.status)),class:(0,a.C_)(["statusBadge taskStatus available",{disabled:"available"!==y.newTask.status,pointer:y.isEditActive,editActived:y.isEditActive}])},U,2)):(0,s.kq)("",!0),y.isEditActive||"inProgress"===y.newTask.status?((0,s.wg)(),(0,s.iD)("div",{key:1,onClick:e[11]||(e[11]=t=>P.changeStatus("inProgress",y.newTask.status)),class:(0,a.C_)(["statusBadge taskStatus inProgress",{disabled:"inProgress"!==y.newTask.status,pointer:y.isEditActive,editActived:y.isEditActive}])},V,2)):(0,s.kq)("",!0),y.isEditActive||"finished"===y.newTask.status?((0,s.wg)(),(0,s.iD)("div",{key:2,onClick:e[12]||(e[12]=t=>P.changeStatus("finished",y.newTask.status)),class:(0,a.C_)(["statusBadge taskStatus finished",{disabled:"finished"!==y.newTask.status,pointer:y.isEditActive,editActived:y.isEditActive}])},$,2)):(0,s.kq)("",!0),y.isEditActive||"cancelled"===y.newTask.status?((0,s.wg)(),(0,s.iD)("div",{key:3,onClick:e[13]||(e[13]=t=>P.changeStatus("cancelled",y.newTask.status)),class:(0,a.C_)(["statusBadge taskStatus cancelled",{disabled:"cancelled"!==y.newTask.status,pointer:y.isEditActive,editActived:y.isEditActive}])},J,2)):(0,s.kq)("",!0)])]),(0,s._)("div",K,[(0,s.Wm)(X,{authorID:y.task.createdBy,isFlipped:!0},null,8,["authorID"])])])])])])])])])}i(8674);var G=i(8332),X=i(2273),tt=i(7600),et=i(5229),it=i(9735),st=i(4409),at=i(5454),nt=i(3556),lt=i(1434),ot=i(3148),dt=i(348),ut=i(8149),ct={name:"TaskDetails",components:{svgIcon:X.Z,HeaderLogo:nt.Z,Notification:lt.Z,UserCard:ot.Z,Navigation:dt.Z,AuthorCard:ut.Z},setup(){const t=(0,et.x)(),e=(0,st.Q)(),i=(0,at.F)(),s=(0,it.J)();return{alertsStore:t,iconsStore:e,generalStore:i,preferenceStore:s}},data(){return{newTask:[{titleInput:"Tytuł",descInput:"Szczegóły zadania nie zostały wczytane. Spróbuj zresetować stronę.",status:"available",important:!1}],isEditActive:!1,buttonClickedCount:{delete:0,edit:0},styles:{editMsg:{top:"-50px"},deleteButton:{width:"30px"},editButton:{width:"30px"}},lettersCount:{descLetters:0,maxDescLetters:300},task:[],tasks:[]}},methods:{async buttonClicked(t){if("delete"===t?(this.styles.deleteButton.width="65px",this.isEditActive=!1):"edit"===t&&(this.isEditActive=!0,this.styles.deleteButton.width="30px"),"delete"===t&&(this.buttonClickedCount.delete++,this.buttonClickedCount.edit=0,2===this.buttonClickedCount.delete)){const t=await G.Z.deleteTask(this.task);if(await this.alertsStore.showNotification(t.duration,t.status,t.message),this.preferenceStore.preferences[0].state){const t=new Audio(tt);t.volume=.5,t.play()}"success"===t.status&&this.$router.push("/dashboard/zadania"),this.buttonClickedCount.delete=0}if("edit"===t&&(this.buttonClickedCount.edit++,this.buttonClickedCount.delete=0,2===this.buttonClickedCount.edit)){const t={_id:this.task._id,title:this.newTask.titleInput,desc:this.newTask.descInput,status:this.newTask.status,important:this.newTask.important},e=await G.Z.updateTask(t);if(await this.alertsStore.showNotification(e.duration,e.status,e.message),this.preferenceStore.preferences[0].state){const t=new Audio(tt);t.volume=.5,t.play()}"success"===e.status&&(this.tasks=await G.Z.getAllTasks()),this.buttonClickedCount.edit=0,this.isEditActive=!1}},hideButtons(t){"delete"===t?this.styles.deleteButton.width="30px":"edit"===t&&(this.isEditActive=!1),this.buttonClickedCount.delete=0,this.buttonClickedCount.edit=0},toggleImportant(){this.isEditActive&&(this.newTask.important=!this.newTask.important)},async changeStatus(t,e){this.isEditActive&&t!==e&&(this.newTask.status=t)},async changeTask(t){this.$router.push("/dashboard/zadania/".concat(t)),this.isEditActive=!1,this.buttonClickedCount.delete=0,this.buttonClickedCount.edit=0},async copyLink(){const t="".concat(window.location.origin,"/#/dashboard/zadania/").concat(this.task._id);if(navigator.clipboard.writeText(t),await this.alertsStore.showNotification(4,"info","Skopiowano link"),this.preferenceStore.preferences[0].state){const t=new Audio(tt);t.volume=.5,t.play()}}},watch:{isEditActive(){this.isEditActive?(this.styles.editMsg.top="10px",this.styles.editButton.width="65px"):(this.styles.editMsg.top="-50px",this.styles.editButton.width="30px")}},async beforeMount(){this.tasks=await G.Z.getAllTasks()},async updated(){this.isEditActive||(this.task=await this.tasks.find((t=>t._id===this.$route.params.id)),void 0===this.task&&this.$router.push("/".concat(this.$route.params.id)),this.newTask.titleInput=this.task.title,this.newTask.descInput=this.task.desc,this.newTask.status=this.task.status,this.newTask.important=this.task.important),this.lettersCount.descLetters=this.newTask.descInput.length}},rt=i(3744);const ht=(0,rt.Z)(ct,[["render",Y],["__scopeId","data-v-6e4bcdef"]]);var pt=ht}}]);
//# sourceMappingURL=TaskDetails.a1553d7a.js.map